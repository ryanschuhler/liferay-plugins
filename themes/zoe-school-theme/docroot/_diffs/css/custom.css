@import "compass";

$black: #000;
$dark-gray: #3D3D3D;
$hover-gray: #DFDFDF;
$line-gray: #999;
$orange: #C65000;
$white: #FFF;
$yellow: #CD980D;

#skip-to-content, #breadcrumbs, #heading .site-name, #navigation h1, .child-menu, #toggle {
	display: none;
}

/* ---------- Base ---------- */

html .lfr-dockbar-pinned {
	padding-top: 31px;
}

h1, h2, h3 {
	margin: 0;
	line-height: 1em;
}

#wrapper {
	color: $black;
	font-family: 'Adobe Garamond Pro', Arial, sans-serif;

	a:-webkit-any-link {
		color: $yellow;
	}
}

#nav-content, #heading, #content, #footer-content, .page-title {
	margin: auto;
	position: relative;
	width: 800px;
}

#toggle span {
	clip: rect(0 0 0 0);
	font-size: 0;
	line-height: 0;
	position: absolute;
	text-indent: -9999em;
}

/* ---------- Banner ---------- */

#heading {
	height: 95px;
}

#sign-in {
	padding: 10px;
	position: absolute;
	right: 0;
	top: 70px;
	z-index: 2;

	a {
		text-decoration: none;
	}
}

.site-title img {
	height: 50px;
	margin-top: 25px;
	width: auto;
}

.page-title {
	border-bottom: solid 2px $line-gray;
	font-size: 4em;
	font-weight: normal;
	line-height: 1em;
	top: 80px;
	width: 100%;

	span {
		padding-left: 10px;
	}
}

#wrapper #navMain {
	a {
		color: $white;
	}

	.child-menu a:hover {
		color: $orange;
	}
}

#wrapper #navMain .selected .child-menu a {
	color: $black;
}

#navigation {
	background: $dark-gray;
	height: 40px;
	width: 100%;
	z-index: 1;

	form {
		position: absolute;
		top: -40px;
		right: 0;

		select {
			display: none;
		}

		input.focus, textarea.focus {
			border-color: $yellow;
		}

		input[type="image"] {
			position: relative;
			top: -20px;
			left: 6px;
		}

		input[type="text"] {
			display: block;
			width: 205px;

			&:focus {
				background: #FFF;
				padding: 5px 5px 5px 25px;
				width: 176px;
			}
		}
	}

	.triangle {
		display: none;
	}

	#navMain {
		height: 40px;
		margin: 0;
		position: relative;

		.selected {
			background: $orange;
			padding-bottom: 5px;
			position: static;
			
			&:after {
				background: $orange;
				bottom: -4px;
				content: "";
				height: 4px;
				left: 0;
				position: absolute;
				width: 100%;
			}

			.selected {
				background: transparent;
				padding-bottom: 1px;
				position: relative;

				a {
					background: $hover-gray;
				}

				&:after {
					background: transparent url(../images/arrows/zoe_arrow.gif);
					background-size: 12px;
					height: 12px;
					left: 125px;
					top: 15px;
					width: 12px;
				}

				li a:hover, .selected a {
					background: $white;
				}

				.selected:after {
					display: none;
				}

				.selected {
					padding-bottom: 0;
				}
			}
		}
	}

	#navAudience {
		margin: 0;
		position: absolute;
		right: 0;
		top: -95px;

		li {
			margin: 0 1px;
			padding: 18px 0 0 0;
			/*position: relative;*/

			&:hover a {
				border-color: transparent;
				color: $white;
			}

			/*&:last-child .child-menu, &:nth-last-child(2) .child-menu, &.selected:last-child .child-menu, &.selected:nth-last-child(2) .child-menu  {
				left: auto;
				right: -10px;
			}*/

			&:last-child .child-menu li, &:nth-last-child(2) .child-menu li, &.selected:last-child .child-menu li, &.selected:nth-last-child(2) .child-menu li {
				float: right;
			}

			&:last-child a {
				border-right-width: 0;
			}

			.child-menu {
				top: 35px;
			}
		}

		a {
			border-right: solid 1px $black;
			color: $black;
			font-size: 1.8em;
			margin-right: -3px;
			padding: 0 10px;
		}

		.selected {
			background: $orange;

			ul {
				background: $orange;
				border-width: 0;
				display: none;
				left: -20px;
				margin: 10px 10px 10px 20px;
				padding-bottom: 0;

				li:hover {
					background: transparent;

					a {
						color: $yellow;
					}
				}
			}

			li {
				width: auto;

				&:hover a {
					background: transparent;
				}
			}

			a {
				border-color: transparent;
				color: $white;
				display: inline;
			}

			&:hover ul {
				display: block;
			}
		}

		.child-menu {
			top: 17px;
			width:  100%; /*auto*/

			li {
				border-width: 0;
				margin: 5px 0;
				padding: 0 5px; /*10px*/
			}

			a {
				border-width: 0;
				color: $white;
				font-size: 1.5em;
				padding: 10px 10px 10px 0;

				&:hover {
					background: transparent;
					color: $orange;
				}
			}
		}

	}

	li {
		float: left;
		list-style: none;
		margin: 8px 1px 0 1px;
		padding: 0 0 4px 0;
		position: static;

		&:hover {
			background: $yellow;
		}

		&:hover .child-menu {
			display: block;
		}

		&:nth-child(n+6) .child-menu li {
			float:right;
		}
	}

	a {
		font-size: 2em;
		padding: 8px 10px;
		text-decoration: none;
	}

	.child-menu {
		background: $yellow;
		left: -20px;
		position: absolute;
		top: 30px;
		width: 100%;
		z-index: 2;

		a {
			font-size: 1.5em;
		}
	}

	.grandchild-menu {
		display: none;
	}

	.selected {
		ul {
			background: transparent;
			border-bottom: double $line-gray;
			display: block;
			left: 0;
			margin: 0;
			padding-bottom: 20px;
			position: absolute;
			top: 125px;
			width: 150px;
			z-index: 1;

			li {
				background: transparent;
				border-bottom: solid 1px $line-gray;
				margin: 0 0 0 3px;
				padding: 1px 0;
				position: relative;
				width: 146px;

				&:last-child {
					border-bottom-color: transparent;
				}

				&:hover {
					a {
						background: $hover-gray;
					}

					ul {
						display: block;
					}
				}
			}

			a {
				display: block;
				font-size: 16px;
				padding: 9px 5px;
			}

			ul {
				background: $hover-gray;
				border: solid 1px $line-gray;
				display: none;
				left: 152px;
				padding: 5px;
				top: -1px;
				width: 125px;

				li {
					border: 0;
					margin-left: -27px;
					padding: 0 0 0 30px;
					width: 95%;

					&:last-child a {
						border-width: 0;
					}
				}

				a {
					border-bottom: solid 1px $line-gray;
					padding: 5px;

					&:hover {
						background: $white;
					}
				}

				&:after, &:before {
					border: solid 10px transparent;
					border-right-color: $line-gray;
					border-left-width: 0;
					content: "";
					height: 0;
					top: 11px;
					left: -11px;
					position: absolute;
					width: 0;
				}

				&:after {
					border-right-color: $hover-gray;
					left: -10px;
				}
			}
		}
	}
}

/* ---------- Content ---------- */

#content {
	font-size: 12px;
	padding: 85px 0 20px 0;
}

#column-1 {
	border-left: solid 1px $line-gray;
	float: right;
	width: 79%;

	.portlet-dropzone {
		margin: 0 10px;
		padding: 0;
	}

	.portlet-boundary {
		border-bottom: solid 1px $line-gray;
		padding: 10px 0;
	}
}

#column-2 {
	float: left;
	width: 20%;
}

/* ---------- Footer ---------- */

#footer {
	background: $orange;
	color: $white;
	font-weight: 1.2em;
}

/* ---------- Media Queries ---------- */

@media screen and (max-width: 799px) {
	#nav-content, #heading, #content, #footer-content, .page-title {
		width: 100%;
	}

	#column-1, #column-2, #column-3, #column-4, #column-5, #column-6 {
		margin: 0;
		padding: 0;
		width: 100%;
	}

	#wrapper #navMain .selected .child-menu a {
		color: $white;
	}

	#heading {
		height: 0;

		.logo {
			position: absolute;
			right: 12px;
		}

		.site-title img {
			height: 35px;
			margin-top: 1px;
		}

		.page-title {
			top: 50px;
		}
	}

	#toggle {
		background: url(../images/custom/toggleImage.gif) 50% center no-repeat;
		cursor: pointer;
		display: block;
		height: 44px;
		position: absolute;
		width: 50px;
		z-index: 3;
	}

	#nav-container {
		background: $dark-gray;
		height: 100%;
		left: -260px;
		overflow-x: auto;
		position: fixed;
		top: 0;
		width: 260px;
		z-index: 2;
		-webkit-overflow-scrolling: touch;
	}

	#nav-content {
		padding: 71px 0px 5px 0px;

		form {
			top: 38px;
			left: 22px;
		}

		#navMain .selected:after, #navMain .selected .selected:after {
			width: 0;
		}

		#navMain .selected .selected a, #navMain .selected .selected li a:hover, #navMain .selected .selected .selected a {
			background: transparent;
		}

		.selected ul ul::after, .selected ul ul::before {
			border-width: 0;
		}

		#navMain, #navAudience, .child-menu, .selected ul, #navAudience .selected ul, .selected ul ul, .grandchild-menu {
			border-width: 0;
			display: block;
			margin: 0;
			padding: 0;
			position: static;
			width: auto;

			li, .child-menu li, .selected, .selected .selected {
				background: transparent;
				border-width: 0;
				clear: both;
				display: block;
				margin: 0;
				padding: 0;
				width: 100%;

				&:hover, &:hover a {
					color: $white;
				}
			}

			a, .selected a {
				border: solid 1px $hover-gray;
				border-width: 1px 0 1px 0;
				color: $white;
				display: block;
				font-size: 20px;
				margin: 0;
				padding: .8em .5em .8em 25px;
				position: relative;
				@include background-image(linear-gradient(#696969, $dark-gray));
			}
		}

		#navMain, #navAudience {
			li:hover a {
				border: solid 1px $hover-gray;
				border-width: 1px 0 1px 0;
			}

			.child-menu a, .child-menu a:hover, .selected ul a, .selected .selected a, li:hover li a, .selected ul .selected a {
				background: transparent;
				border-width: 0;
				color: $white;
				font-size: 16px;
				padding: .5em .5em .5em 25px;
			}

			.child-menu .grandchild-menu a, .child-menu .selected .grandchild-menu a {
				padding-left: 50px;
			}

			.selected a, .selected ul .selected a, .selected ul .selected a:hover {
				@include background-image(linear-gradient($white, #696969));
			}

			.selected, .selected:hover {
				background: $line-gray;
			}

			.selected .selected .selected a, .selected .selected .selected a:hover {
				background: $white;
				color: $black;
			}

			.selected .selected li a, .selected ul .selected li a:hover {
				background: transparent;
			}
		}

		.triangle {
			border-left: solid 1px $line-gray;
			display: block;
			padding: 10px 20px;
			position: absolute;
			right: 0;
			top: 7px;
		}

		#child-triangle {
			font-size: 16px;
			padding: 5px 20px;
			top: 3px;
		}
	}

	#content {
		padding-top: 60px;
	}
}

/* ---------- Extras ---------- */

#wrapper:before {
 	@include background-image(linear-gradient($dark-gray, $black));
}

#dockbar {
	@include background-image(linear-gradient($hover-gray, $line-gray));
}